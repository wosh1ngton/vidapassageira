<div class="grid col-12">
    <p-toast />
    <p-confirmdialog />

    <!-- Empty State -->
    <div *ngIf="viagens.length === 0" class="empty-state col-12">
        <div class="empty-state-icon">
            <i class="pi pi-map"></i>
        </div>
        <h2 class="empty-state-title">Nenhuma Viagem Cadastrada</h2>
        <p class="empty-state-message">
            Comece criando seu primeiro destino e planeje viagens incriveis com ajuda da IA!
        </p>
        <button pButton label="Cadastrar Destino" icon="pi pi-plus"
            class="p-button-primary" routerLink="/destinos"></button>
    </div>

    <!-- Trip Cards -->
    <div *ngFor="let viagem of viagens" class="col-12" style="width: 400px;">
        <p-card [header]="viagem.destino.nome" [subheader]="viagem.destino.localizacao"
        [ngClass]="{'shared-card': viagem.compartilhada}" class="relative">
        <span *ngIf="viagem.compartilhada" class="shared-badge">
    <i class="pi pi-users mr-1"></i> Compartilhada
</span>
            <img [src]="viagem.destino.imagemBase64" alt="Imagem" class="w-full mb-3 border-round" />


            <p>{{ viagem.dataIda | date: 'dd/MM/yyyy' }} ate {{ viagem.dataVolta | date: 'dd/MM/yyyy'}} </p>

            <ng-template pTemplate="footer">
                <div class="flex justify-content-end gap-1">

                     <button *ngIf="!viagem.compartilhada" pButton type="button" icon="pi pi-share-alt" class="p-button-sm p-button-outlined"
                        (click)="compartilharViagem(viagem.id)"></button>

                    <button pButton type="button" icon="pi pi-pencil" class="p-button-sm p-button-outlined"
                        (click)="editarViagem(viagem.id)"></button>

                    <button pButton type="button" icon="pi pi-trash" class="p-button-sm p-button-danger"
                        (click)="confirmarDelecao(viagem.id)"></button>

                    <button pButton icon="pi pi-telegram" class="p-button-sm p-button-default"
                        [routerLink]="['/planejar',viagem.id]">
                        Planejar Viagem
                    </button>
                </div>
            </ng-template>

        </p-card>

    </div>


</div>
